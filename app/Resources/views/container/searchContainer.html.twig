{% extends 'base.html.twig' %}

{% block title %}Container Search{% endblock %}

{% block javascripts %}
{# include Knockout to make the search script works #}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
    
{# include the search javasript #}
<script type="text/javascript" src="{{ asset('JavaScript/Search.js') }}"></script>
{% endblock %}

{% block body %}
{# magic invisible div that allows us to pass information to the search script #}
<div class="js-jsonpage" data-jsonpage="{{ path('container_jsonsearch_empty') }}"></div>
<div class="js-isPopup" data-ispopup="{{isPopup}}"></div>
<h2>Container Search</h2>
<input type="search" id="searchBox" maxlength="100" />
<div id="message"></div>
<table hidden class="ui celled table">
    <thead>
        <tr>
            <th>Serial</th>
            <th>Frequency</th>
            <th>Address</th>
            <th>Location</th>
            <th>Type</th>
            <th>Size</th>
            <th>Status</th>
            <th>Reason</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: results">
        <tr>
            <td data-bind="text: containerSerial"></td>
            <td data-bind="text: frequency"></td>
            <td data-bind="text: property"></td>
            <td data-bind="text: locationDesc"></td>
            <td data-bind="text: type"></td>
            <td data-bind="text: size"></td>
            <td data-bind="text: status"></td>
            <td data-bind="text: reasonForStatus"></td>
            {#{%if isPopup%}
            <td><a href="#" class="popupSelectButton" data-bind="attr: {'data-id': id}">Select</a></td>
            {% else %}
            <td><a data-bind="attr: {href: '{{ viewURL }}' + id}">View</a></td>
            {% endif %}#}
        </tr>
    </tbody>
</table>
{% endblock %}