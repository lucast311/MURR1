{% extends 'base.html.twig' %}

{% block title %}Contact Search{% endblock %}

{% block javascripts %}
    {# include jQuery and Knockout to make the search script work #}
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
    
    {# include the search javasript #}
    <script type="text/javascript" src="{{ asset('JavaScript/Search.js') }}"></script>
{% endblock %}

{% block body %}
    {# magic invisible div that allows us to pass information to the search script #}
    <div class="js-jsonpage" data-jsonpage="{{ pageURL }}"></div>
    <h2>Contact Search</h2>
    <input type="search" id="searchBox" />
    <table>
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Organization</th>
                <th>Role</th>
                <th>View</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: results">
            <tr>
                <td data-bind="value: firstName"></td>
                <td data-bind="value: lastName"></td>
                <td data-bind="value: companyName"></td>
                <td data-bind="value: role"></td>
                <td><a data-bind="href: {{ path('contact_jsonSearch') }} + '/' + id">View</a></td>
            </tr>
        </tbody>
    </table>
{% endblock %}